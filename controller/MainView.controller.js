sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/vbm/AnalyticMap","sap/ui/model/json/JSONModel","sap/ui/Device","sap/m/MessageToast"],function(e,t,o,i,n){"use strict";t.GeoJSONURL="model/L0.json";const s=2e4;return e.extend("com.sapdev.teamTime.controller.MainView",{onInit:function(){this._oModel=new o("model/Buddies.json");this.getView().setModel(this._oModel);var e=new o(i);e.setDefaultBindingMode("OneWay");this.getView().setModel(e,"device");this._oModel.attachRequestCompleted(this.onRecalcTime.bind(this));const t=this.onRecalcTime.bind(this);setInterval(t,s)},onRegionClick:function(e){n.show("Country / Region: "+e.getParameter("code"))},onClickItem:function(e){n.show("We need a coffe !!!!")},onRecalcTime:function(){var e=this._oModel.getProperty("/Spots");for(let o=0;o<e.length;o++){var t=e[o];let i=new Date;let n=i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",timeZone:t.timeZoneJS});t.time=n}this._oModel.setProperty("/Spots",e)}})});